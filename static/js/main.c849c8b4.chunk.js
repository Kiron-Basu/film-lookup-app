(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,a){e.exports={MovieInfo:"MovieInfo_MovieInfo__21Xhv",MovieInfo__img:"MovieInfo_MovieInfo__img__1JAOB",MovieInfo__container:"MovieInfo_MovieInfo__container__2FWFe",MovieInfo__well:"MovieInfo_MovieInfo__well__1t9XE",MovieInfo__plot:"MovieInfo_MovieInfo__plot__pkJQX",MovieInfo__button:"MovieInfo_MovieInfo__button__8y5r-",LeftSide:"MovieInfo_LeftSide__3J5OL",RightSide:"MovieInfo_RightSide__3-AH7"}},function(e,t,a){e.exports={MainPanel:"MainPanel_MainPanel__3AV3o",MainPanel__searchBar:"MainPanel_MainPanel__searchBar__327dx",MainPanel__mainMovie:"MainPanel_MainPanel__mainMovie__aDNm-",MainPanel__history:"MainPanel_MainPanel__history__2mfqI",MainPanel__btnLess:"MainPanel_MainPanel__btnLess__19x4_",MainPanel__btn:"MainPanel_MainPanel__btn__SasNU",MainPanel__err:"MainPanel_MainPanel__err__3qyEd"}},,,,,,,function(e,t,a){e.exports=a.p+"static/media/no-image.84b77b4c.png"},function(e,t,a){e.exports={Nav:"Navigation_Nav__1q73_",Nav__title:"Navigation_Nav__title__9WYtL",Nav__info:"Navigation_Nav__info__29EnR"}},function(e,t,a){e.exports={Search:"Search_Search__3gNIG",Search__bar:"Search_Search__bar__3ZO91",Search__btn:"Search_Search__btn__29_3C"}},function(e,t,a){e.exports={MoviePoster:"MoviePoster_MoviePoster__1Wqzz"}},,,function(e,t,a){e.exports={History:"History_History__3ik1v"}},function(e,t,a){e.exports={Query:"Query_Query__1j30v"}},function(e,t,a){e.exports={Modal:"Modal_Modal__njg-G"}},function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__1DP5O"}},function(e,t,a){e.exports=a(27)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(14),l=a.n(i),s=(a(25),a(3)),c=a(4),u=a(6),_=a(5),m=a(7),h=a(10),v=a.n(h),d=function(){return o.a.createElement("nav",null,o.a.createElement("div",{className:v.a.Nav__title},"Movie Lookup App"),o.a.createElement("div",{className:v.a.Nav__info},"Type in a movie below to lookup details"))},f=a(8),p=a(11),M=a.n(p),E=function(e){return o.a.createElement("div",{className:M.a.Search},o.a.createElement("input",{onChange:e.inputChangeHandler,className:M.a.Search__bar,onKeyPress:e.enterVerify,type:"text",value:e.searchInput}),o.a.createElement("button",{onClick:e.submitEvent},"Go"))},g=a(12),S=a.n(g),b=a(9),y=a.n(b),w=function(e){var t="N/A"===e.movie.Poster?y.a:e.movie.Poster;return n=e.movie.Title.length>30?"".concat(e.movie.Title.substring(0,27),"..."):e.movie.Title,o.a.createElement("div",{className:S.a.MoviePoster},o.a.createElement("h2",null,n),o.a.createElement("div",null,o.a.createElement("img",{src:t,alt:"Movie Poster",width:"150"})),o.a.createElement("h4",null,"(",e.movie.Year,")"),o.a.createElement("button",{type:"button",className:S.a.MoviePoster,onClick:function(){return e.relatedMovies(e.movie.Title)}},"Info"))},N=a(15),P=a.n(N),I=a(16),k=a.n(I),O=function(e){return o.a.createElement("div",{className:k.a.Query},o.a.createElement("p",{onClick:e.onClick},e.history))},C=[],H=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.history!==e.history}},{key:"render",value:function(){var e=this;return C.push(this.props.history),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:P.a.History},o.a.createElement("h2",null,"History"),C.map(function(t,a){return o.a.createElement(O,{key:a,history:t,onClick:function(){return e.props.inputHistory({search:t})}})})))}}]),t}(r.Component),x=a(17),j=a.n(x),T=a(18),B=a.n(T),J=function(e){return e.show?o.a.createElement("div",{className:B.a.Backdrop,onClick:e.clicked}):null},R=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(J,{show:e.show,clicked:e.modalClosed}),o.a.createElement("div",{className:j.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))},L=a(1),A=a.n(L),W=function(e){var t=e.movieExt,a="N/A"===t.Poster?y.a:t.Poster;return o.a.createElement("div",{className:A.a.MovieInfo},o.a.createElement("div",{className:A.a.MovieInfo__container},o.a.createElement("div",{className:A.a.LeftSide},o.a.createElement("img",{className:[A.a.MovieInfo__img,A.a.MovieInfo__well].join(" "),alt:"movie poster",src:a,width:"250",height:"375"})),o.a.createElement("div",{className:[A.a.RightSide,A.a.MovieInfo__well].join(" ")},o.a.createElement("h2",null,t.Title),o.a.createElement("ul",{className:A.a.List},o.a.createElement("li",null,o.a.createElement("strong",null,"Genre: "),t.Genre),o.a.createElement("li",null,o.a.createElement("strong",null,"Released: "),t.Released),o.a.createElement("li",null,o.a.createElement("strong",null,"Rated: "),t.Rated),o.a.createElement("li",null,o.a.createElement("strong",null,"IMDB Rating: "),t.imdbRating),o.a.createElement("li",null,o.a.createElement("strong",null,"Director: "),t.Director),o.a.createElement("li",null,o.a.createElement("strong",null,"Writer: "),t.Writer),o.a.createElement("li",null,o.a.createElement("strong",null,"Actors: "),t.Actors)))),o.a.createElement("div",{className:[A.a.MovieInfo__plot,A.a.MovieInfo__well].join(" ")},o.a.createElement("h3",null,"Plot"),o.a.createElement("p",null,t.Plot)),o.a.createElement("button",{type:"button",className:A.a.MovieInfo__button,onClick:function(){return e.purchaseHandler(t.Title)}},"Buy on Amazon"),o.a.createElement("div",null))},D=a(2),F=a.n(D),G=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(_.a)(t).call(this))).enterVerify=function(t){13===t.charCode&&e.submitEventHandler()},e.purchaseHandler=function(e){window.open("https://www.amazon.co.uk/s?k=".concat(e))},e.inputChangeHandler=function(t){e.setState({searchInput:t.target.value})},e.submitEventHandler=function(){fetch("http://www.omdbapi.com/?s=".concat(e.state.searchInput,"&apikey=4f4ff1ce"),{method:"get"}).then(function(t){return e.setState({errorMessage:null}),t.text()}).then(function(t){if("True"===JSON.parse(t).Response){var a=JSON.parse(t);e.setState({currentSearch:a}),e.setState({loading:!1})}else e.setState({errorMessage:JSON.parse(t).Error}),e.setState({loading:!1})}).then(function(){e.setState({history:e.state.searchInput})})},e.inputHistory=function(t){fetch("http://www.omdbapi.com/?s=".concat(t.search,"&apikey=4f4ff1ce"),{method:"get"}).then(function(t){return e.setState({errorMessage:null}),t.text()}).then(function(t){if("True"===JSON.parse(t).Response){var a=JSON.parse(t);e.setState({currentSearch:a}),e.setState({loading:!1})}else e.setState({errorMessage:JSON.parse(t).Error}),e.setState({loading:!1})}).then(function(){e.setState({searchInput:t.search})})},e.modalClosed=function(){e.setState({modal:!1})},e.relatedMoviesHandler=function(t){fetch("http://www.omdbapi.com/?t=".concat(t,"&apikey=4f4ff1ce"),{method:"get"}).then(function(e){return e.text()}).then(function(t){var a=JSON.parse(t);e.setState({relatedMovies:a})}).then(function(){console.log(e.state.relatedMovies),e.setState({modal:!0})})},e.state={searchInput:"home alone",currentSearch:{},relatedMovies:{},history:[],modal:!1,itemsToShow:6,expanded:!1,loading:!0,errorMessage:null},e.submitEventHandler(),e.showMore=e.showMore.bind(Object(f.a)(Object(f.a)(e))),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"showMore",value:function(){6===this.state.itemsToShow?this.setState({itemsToShow:this.state.currentSearch.Search.length,expanded:!0}):this.setState({itemsToShow:6,expanded:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:F.a.MainPanel},o.a.createElement("div",{className:F.a.MainPanel__searchBar},o.a.createElement(E,{inputChangeHandler:this.inputChangeHandler,submitEvent:this.submitEventHandler,searchInput:this.state.searchInput,enterVerify:this.enterVerify})),void 0===this.state.currentSearch.Search?null:this.state.loading&&!this.state.errorMessage?o.a.createElement("span",{className:F.a.MainPanel__err,style:{height:"100%"}},"Loading..."):this.state.errorMessage?o.a.createElement("div",{className:F.a.MainPanel__err},this.state.errorMessage):o.a.createElement("div",{className:F.a.MainPanel__mainMovie},this.state.currentSearch.Search.slice(0,this.state.itemsToShow).map(function(t,a){return o.a.createElement(w,{key:"".concat(a,"-").concat(t.Title),movie:t,relatedMovies:e.relatedMoviesHandler})}),this.state.expanded?o.a.createElement("button",{className:F.a.MainPanel__btnLess,onClick:this.showMore},o.a.createElement("span",null,"Show less")):o.a.createElement("button",{className:F.a.MainPanel__btn,onClick:this.showMore},o.a.createElement("span",null,"Show more"))),o.a.createElement("div",{className:F.a.MainPanel__history},o.a.createElement(H,{history:this.state.history,inputHistory:this.inputHistory}))),o.a.createElement(R,{show:this.state.modal,modalClosed:this.modalClosed},o.a.createElement(W,{movie:this.state.currentSearch,movieExt:this.state.relatedMovies,purchaseHandler:this.purchaseHandler})))}}]),t}(r.Component),Q=(a(26),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(_.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d,null),o.a.createElement(G,null))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[19,1,2]]]);
//# sourceMappingURL=main.c849c8b4.chunk.js.map